= form_for @source, html: { class: 'form' } do |f|
  %fieldset
    - if @source.new_record?
      %fieldset
        %legend Fichier

        %p.field
          = f.file_field :file

        %p.field
          = check_box_tag 'file_header'
          = label_tag 'file_header', 'ce fichier comporte un en-tête'

        - if @source.errors.any?
          .form-errors
            - @source.errors.each do |k, v|
              %p= v

    %p.field
      %label
        Label
        %br
        = f.text_field :label, placeholder: 'optionnel, utilisera le nom de votre fichier'

    %p.field
      %label
        Description
        %br
        = f.text_area :description, placeholder: 'Description multi-ligne optionnelle…'

    - if @source.persisted?
      .field
        %p En-tête
        = render 'headers/form_fields', f: f


  %ul.actions
    %li
      = f.submit 'Enregistrer'
    %li
      = link_to 'Retour', sources_path
